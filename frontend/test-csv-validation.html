<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CSV Validation Test</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
      }
      .test-case {
        margin: 20px 0;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
      }
      .test-case h3 {
        margin-top: 0;
      }
      .csv-content {
        background: #f5f5f5;
        padding: 10px;
        border-radius: 3px;
        font-family: monospace;
        white-space: pre-wrap;
      }
      .download-btn {
        background: #007bff;
        color: white;
        padding: 8px 16px;
        border: none;
        border-radius: 3px;
        cursor: pointer;
        margin: 5px;
      }
      .download-btn:hover {
        background: #0056b3;
      }
    </style>
  </head>
  <body>
    <h1>CSV Validation Test Cases</h1>
    <p>
      Use these test files to verify the CSV validation system works correctly.
    </p>

    <div class="test-case">
      <h3>✅ Valid CSV (Perfect)</h3>
      <div class="csv-content">Ticker,Weight SPY,40 QQQ,30 VTI,30</div>
      <button
        class="download-btn"
        onclick="downloadCSV('valid_perfect.csv', 'Ticker,Weight\nSPY,40\nQQQ,30\nVTI,30')"
      >
        Download Valid CSV
      </button>
    </div>

    <div class="test-case">
      <h3>⚠️ Valid CSV with Warnings (Weights don't add to 100%)</h3>
      <div class="csv-content">Ticker,Weight SPY,40 QQQ,30 VTI,25</div>
      <button
        class="download-btn"
        onclick="downloadCSV('valid_with_warnings.csv', 'Ticker,Weight\nSPY,40\nQQQ,30\nVTI,25')"
      >
        Download CSV with Warnings
      </button>
    </div>

    <div class="test-case">
      <h3>❌ Invalid CSV (Wrong Headers)</h3>
      <div class="csv-content">Symbol,Percentage SPY,40 QQQ,30 VTI,30</div>
      <button
        class="download-btn"
        onclick="downloadCSV('invalid_headers.csv', 'Symbol,Percentage\nSPY,40\nQQQ,30\nVTI,30')"
      >
        Download Invalid Headers CSV
      </button>
    </div>

    <div class="test-case">
      <h3>❌ Invalid CSV (Missing Ticker)</h3>
      <div class="csv-content">Ticker,Weight ,40 QQQ,30 VTI,30</div>
      <button
        class="download-btn"
        onclick="downloadCSV('invalid_missing_ticker.csv', 'Ticker,Weight\n,40\nQQQ,30\nVTI,30')"
      >
        Download Missing Ticker CSV
      </button>
    </div>

    <div class="test-case">
      <h3>❌ Invalid CSV (Invalid Weight)</h3>
      <div class="csv-content">Ticker,Weight SPY,abc QQQ,30 VTI,30</div>
      <button
        class="download-btn"
        onclick="downloadCSV('invalid_weight.csv', 'Ticker,Weight\nSPY,abc\nQQQ,30\nVTI,30')"
      >
        Download Invalid Weight CSV
      </button>
    </div>

    <div class="test-case">
      <h3>❌ Invalid CSV (Duplicate Tickers)</h3>
      <div class="csv-content">Ticker,Weight SPY,40 SPY,30 VTI,30</div>
      <button
        class="download-btn"
        onclick="downloadCSV('invalid_duplicates.csv', 'Ticker,Weight\nSPY,40\nSPY,30\nVTI,30')"
      >
        Download Duplicate Tickers CSV
      </button>
    </div>

    <div class="test-case">
      <h3>⚠️ Valid CSV with Unknown Symbols</h3>
      <div class="csv-content">Ticker,Weight SPY,40 UNKNOWN,30 VTI,30</div>
      <button
        class="download-btn"
        onclick="downloadCSV('unknown_symbols.csv', 'Ticker,Weight\nSPY,40\nUNKNOWN,30\nVTI,30')"
      >
        Download Unknown Symbols CSV
      </button>
    </div>

    <div class="test-case">
      <h3>❌ Invalid File Type (TXT)</h3>
      <div class="csv-content">
        This is a text file, not a CSV SPY 40% QQQ 30% VTI 30%
      </div>
      <button
        class="download-btn"
        onclick="downloadCSV('invalid_file.txt', 'This is a text file, not a CSV\nSPY 40%\nQQQ 30%\nVTI 30%')"
      >
        Download Text File
      </button>
    </div>

    <script>
      function downloadCSV(filename, content) {
        const blob = new Blob([content], { type: 'text/csv' });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        window.URL.revokeObjectURL(url);
      }
    </script>
  </body>
</html>
